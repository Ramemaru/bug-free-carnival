はじめに
-------------------------------------------------------
exam.cppはc++で書かれた、フィックスポイント様のプログラミング試験の解答です。問題として与えられた機能は全て実装しました。
なお、C言語で使われる構文のみを用いているため、Cのコンパイラでも問題なく利用可能かと思われます。
コーディング環境はVisual Studio 2019です。
-------------------------------------------------------


プログラムについて
-------------------------------------------------------
本プログラムはコンソールでの動作を想定しています。また、オプションは一切無く、また入力もプログラム実行後に順次手打ちで入力していきます。
よって、ファイルを介しての入出力には不向きであり、プログラム単体が正しく動作するかどうかを確かめるのに特化した動作になっています。
-------------------------------------------------------


動作について
-------------------------------------------------------
ステップ1
実行すると、日付の区間を設定するかどうかを問われます。
yを入力すると区間を設定するステップ1.1に移行します。nを入力するとステップ2に移行します。

ステップ1.1
どの日付区間のアクセスログを解析するか設定します。開始と終了の日をそれぞれ入力してください。同じ日付を入力した場合、該当する日のログのみ解析します。
入力は、例えば"2020 5 5"と入力すると2020年5月5日として読み込みます。

-------------------------------------------------------

ステップ2
デフォルトでファイルを開くかどうかが問われます。
yを入力すると/var/log/httpd/access_logのみを読み込みステップ3に移行します。
nを入力するとその他のログや複数のログを読み込めます。ステップ2.1に移行します。

ステップ2.1
ファイルへのパスを入力するよう要請されます。入力されたパスのファイルを開きます。
ファイルの中にはあらかじめ開きたいログへのパスを改行で区切って格納してください。例えば
"/var/log/httpd/access_log
/var/log/httpd/access_log2
/var/log/httpd/access_log3"
という中身のファイルを開くと、/var/log/httpd/access_log、/var/log/httpd/access_log2、/var/log/httpd/access_log3を解析することが出来ます。

-------------------------------------------------------

ステップ3
解析の内容を問われます。各時間帯毎のアクセス件数を知りたい場合はtを入力してください。
アクセスの多いリモートホストの順にアクセス件数の一覧を表示する場合はhを入力してください。
どちらを入力してもステップ4に移行します。

-------------------------------------------------------

ステップ4
解析結果を出力します。ステップ2でnを入力していてかつ読み込めないログがあった場合はその旨が表示されます。
ファイルを閉じてそのままプログラムは終了します。

-------------------------------------------------------


仕様・エラーなどについて
-------------------------------------------------------
・各質問で求められていない入力をした場合、再度同じ質問が繰り返されます。
・ステップ1.1において開始の日が終了の日より後の場合、入力のし直しになります。
・ステップ1.1において、現実的な日付を入力してください。またこのプログラムは西暦10000年以後の動作を保証しません。
・ステップ2、及び2.1において、ファイルが読み込めなかった場合はエラーで終了します。
・ファイルパスを取得後、一行ずつしか読み込みません。また逐次ファイルを読み込む場合は全て読み込んだファイルを閉じます。よってメモリの乏しい計算機でも大容量ファイルに対して動作します。
・整数型の変数は全てint型です。入力が極端に多い場合、ホストごと又は時間ごとののアクセス件数がオーバーフローする可能性があります。
・新しいホスト名からのアクセスを確認するたびに、新しいホストのデータを格納するためのメモリを確保します。よって多くのホストからアクセスを受けている場合はプログラムの動作が長くなります。
・文字数は以下の表に適う場合、正常に動作します。
ホストの名前　31以下
各種ファイルのパス　255以下
ログの一行　255以下

-------------------------------------------------------

製作日　2020.5.26
製作者　丸山 渉 circlemountain.niconico@gmail.com